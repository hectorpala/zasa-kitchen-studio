// Optimized JavaScript for Zasa Kitchen Studio - v2.0
// Combines all functionality with lazy loading and WebP support
(function(){"use strict";document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("hamburger"),t=document.getElementById("nav-list");e&&t&&(e.addEventListener("click",()=>{e.classList.toggle("active"),t.classList.toggle("active"),document.body.style.overflow=t.classList.contains("active")?"hidden":"auto"}),t.querySelectorAll(".nav-link").forEach(n=>{n.addEventListener("click",()=>{e.classList.remove("active"),t.classList.remove("active"),document.body.style.overflow="auto"})}));const n=document.querySelector(".navbar");window.addEventListener("scroll",()=>{n&&n.classList.toggle("scrolled",window.scrollY>100)});const o=new IntersectionObserver((r,s)=>{r.forEach(i=>{if(i.isIntersecting){const l=i.target,d=l.dataset.src||l.src;d&&(l.src=d,l.removeAttribute("data-src")),l.classList.add("loaded"),s.unobserve(l)}})},{rootMargin:"50px 0px",threshold:.01});document.querySelectorAll("img[data-src],img[loading='lazy']").forEach(r=>{r.style.opacity="0",r.style.transition="opacity 0.3s",o.observe(r),r.addEventListener("load",function(){this.style.opacity="1"})});document.querySelectorAll('a[href^="tel:"]').forEach(r=>{r.addEventListener("click",function(){typeof gtag!=="undefined"&&gtag("event","phone_call_click",{event_category:"engagement",event_label:this.dataset.phone||"header"})})});document.querySelectorAll('a[href*="wa.me"]').forEach(r=>{r.addEventListener("click",function(){typeof gtag!=="undefined"&&gtag("event","whatsapp_click",{event_category:"engagement",event_label:"whatsapp"})})})})})();